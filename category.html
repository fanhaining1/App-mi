<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <title>分类</title>
   
    <link href="css/mui.min.css" rel="stylesheet"/>
    <link rel="stylesheet" type="text/css" href="css/iconfont.css"/>
    <link rel="stylesheet" type="text/css" href="css/category.css"/>

</head>
<body>
	<header class="mui-bar mui-bar-nav">
	    
	    <input type="text" placeholder="请输入关键字"/>
	    <span class="iconfont icon-xiaoxi"></span>
	</header>
	<div class="mui-content">
		<div class="linksContent" id="linksContent">
			
			<a href="" class="current" data-index="1">礼品</a>
			<a href="" data-index="2">手机</a>
			<a href="" data-index="3">电视</a>
			<a href="" data-index="4">电脑</a>
			<a href="" data-index="5">家电</a>
		

		</div>
		
		<div class="itemsContent" id="itemsContent">
			<div class="itemsList" id="itemlist1">
				<div class="adv">
					<a href=""><img src="images/fl-1.webp"/></a>
				</div>
				<h3><span>礼品</span></h3>
				<div class="mui-row productList">
			        <div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find1.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find2.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find3.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find4.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find5.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
				</div>
				
				<h3><span>红米手机</span></h3>
				<div class="mui-row productList">
			        <div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find1.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find2.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find3.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find4.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find5.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
				</div>
				
				<h3><span>配件</span></h3>
				<div class="mui-row productList">
			        <div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find1.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find2.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find3.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find4.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find5.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
				</div>
			</div>	
			<div class="itemsList" id="itemlist2">
				<div class="adv">
					<a href=""><img src="images/fl-2.webp"/></a>
				</div>
				<h3><span>手机</span></h3>
				<div class="mui-row productList">
			        <div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find1.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find2.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find3.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find4.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find5.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
				</div>
				
				<h3><span>红米手机</span></h3>
				<div class="mui-row productList">
			        <div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find1.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find2.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find3.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find4.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find5.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
				</div>
			</div>	
			<div class="itemsList" id="itemlist3">
				<div class="adv">
					<a href=""><img src="images/fl-3.webp"/></a>
				</div>
				<h3><span>电视</span></h3>
				<div class="mui-row productList">
			        <div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find1.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find2.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find3.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find4.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find5.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
				</div>
				
				<h3><span>红米手机</span></h3>
				<div class="mui-row productList">
			        <div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find1.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find2.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find3.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find4.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find5.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
				</div>
			</div>	
			<div class="itemsList" id="itemlist4">
				<div class="adv">
					<a href=""><img src="images/fl-4.webp"/></a>
				</div>
				<h3><span>电脑</span></h3>
				<div class="mui-row productList">
			        <div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find1.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find2.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find3.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find4.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find5.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
				</div>
				
				<h3><span>红米手机</span></h3>
				<div class="mui-row productList">
			        <div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find1.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find2.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find3.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find4.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find5.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
				</div>
			</div>	
			<div class="itemsList" id="itemlist5">
				<div class="adv">
					<a href=""><img src="images/fl-5.webp"/></a>
				</div>
				<h3><span>家电</span></h3>
				<div class="mui-row productList">
			        <div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find1.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find2.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find3.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find4.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find5.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
				</div>
				
				<h3><span>红米手机</span></h3>
				<div class="mui-row productList">
			        <div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find1.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find2.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find3.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find4.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
					<div class="mui-col-sm-4 mui-col-xs-4">	
			        	<a href="">
			        		<img src="images/find/find5.jpg" alt="" />
			        		<p class="info">商品说明</p>
			        	</a>
					</div>
				</div>
			</div>	
		</div>
	</div>

	<nav id="nav" class="mui-bar mui-bar-tab">
	    <a id="index" class="mui-tab-item" href="index.html">
	        <span class="mui-icon mui-icon-home"></span>
	        <span class="mui-tab-label">首页</span>
	    </a>
	    <a id="category" class="mui-tab-item  mui-active" href="category.html">
	        <span class="mui-icon mui-icon-phone"></span>
	        <span class="mui-tab-label">分类</span>
	    </a>
	    <a class="mui-tab-item" href="find.html">
	        <span class="mui-icon mui-icon-phone"></span>
	        <span class="mui-tab-label">发现</span>
	    </a>
	    <a class="mui-tab-item" href="order.html">
	        <span class="mui-icon mui-icon-email"></span>
	        <span class="mui-tab-label">购物车</span>
	    </a>
	    <a class="mui-tab-item" href="setting.html">
	        <span class="mui-icon mui-icon-gear"></span>
	        <span class="mui-tab-label">我的</span>
	    </a>
	</nav>
	
	
	
	<script src="js/mui.min.js"></script>
    <script src="js/mui.lazyload.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/mui.lazyload.img.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/app.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript" charset="utf-8">
      	mui.init();
  
  		
  		mui.ready(function(){
  			
  			//右侧容器
	  		var itemsContent = document.getElementById("itemsContent");
	  		var itemsLists = itemsContent.querySelectorAll(".itemsList");
	  		var arrOffTop  =[]; //保存右侧所有itemList的offsetTop值
	  		
	  		for (var i = 0; i< itemsLists.length; i++) {
	  			arrOffTop.push(itemsLists[i].offsetTop);
	  			
	  		}
	  		
	  		console.info(arrOffTop);
	  		    
	  		  
			//点击左侧导航
			mui(".linksContent").on("tap","a",function(){
				//console.info(this.dataset["index"]);
				//点击的是第几个a
				var index = this.getAttribute("data-index");
				
				//删除其它的类
				var dom = document.getElementById("linksContent").querySelector(".current");
				
				if(dom){
					dom.classList.remove("current");
				}
				
				this.classList.add("current");
				
				//把右侧对应第index个itemsList滚动到最前面。
				//拼接字符串得到 右侧对应那个元素的 id
	//			var curItemList = document.getElementById("itemlist"+index);
	//			console.info(curItemList);
				itemsContent.scrollTop = itemsLists[index-1].offsetTop;
			});
			
			
			function handle(){
				console.info(Date.now())
				var currentTop = itemsContent.scrollTop;//获取当前的scrollTop
				//console.info(currentTop);
				
				//判断currentTop与arrOffTop数组中哪一个元素隔的最近？
				//假设与 第一个元素最近
				var index   = 0;
				var minDist = Math.abs(currentTop - arrOffTop[0]);
				
				for	(var i = 1;i<arrOffTop.length;i++){
					//如果遇到更小的，则更新：
					if( Math.abs(arrOffTop[i] - currentTop) < minDist ){
						minDist = Math.abs(arrOffTop[i] - currentTop); 
						
						index = i;
					}
				}
				
				console.info(index);
				//index : 判断currentTop与arrOffTop数组中哪一个元素隔的最近的结果
				
				//把左侧的相应的a标签标亮
				var alist = document.getElementById("linksContent").querySelectorAll("a");
				//删除其它的类
				var dom = document.getElementById("linksContent").querySelector(".current");
				if(dom){
					dom.classList.remove("current");
				}
				//把index个a标亮
				alist[index].classList.add("current");
			}
			
			var handle1 = mui.buffer(handle); //节流函数：降低函数handle被调用的频繁
			
			itemsContent.addEventListener("scroll",function(){
				
				handle1();
				
			})
  			
  		})
  		
	
		//底部的导航跳转
		mui("#nav").on("tap","a",function(){
			window.location = this.href;
		} )
	</script>
</body>
</html>